import React, { useContext } from 'react'; import { CartContext } from '../context/CartContext'; export default function CartPage(){ const { cart, dispatch } = useContext(CartContext); const subtotal = cart.reduce((s,i)=>s+i.qty*i.price,0); return (<div className='max-w-6xl mx-auto p-4'><h2 className='text-xl font-semibold mb-4'>Cart</h2>{cart.length===0?<p>Your cart is empty</p>:<div className='grid grid-cols-1 md:grid-cols-3 gap-4'><div className='md:col-span-2'><ul className='flex flex-col gap-3'>{cart.map(item=> (<li key={item.id} className='card flex items-center gap-3'><img src={item.img} className='w-24 h-24 object-cover rounded' /><div className='flex-1'><div className='font-medium'>{item.name}</div><div className='text-sm text-gray-500'>₹{item.price}</div><div className='mt-2 flex items-center gap-2'><button onClick={()=>dispatch({type:'update', id:item.id, qty: item.qty-1})} className='px-2 py-1 border rounded'>-</button><div className='px-3'>{item.qty}</div><button onClick={()=>dispatch({type:'update', id:item.id, qty:item.qty+1})} className='px-2 py-1 border rounded'>+</button><button onClick={()=>dispatch({type:'remove', id:item.id})} className='ml-4 text-red-600'>Remove</button></div></div></li>))}</ul></div><aside className='card'><div className='font-medium'>Order Summary</div><div className='mt-2 flex justify-between'><span>Subtotal</span><span>₹{subtotal.toFixed(2)}</span></div><div className='mt-4'><button onClick={()=>{ alert('Checkout not implemented. This is a frontend demo.'); }} className='w-full bg-indigo-600 text-white py-2 rounded'>Checkout</button></div></aside></div>}</div>); }